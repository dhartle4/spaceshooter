pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
t = 0
function _init()
	ship = {sp=1, x=60, y=60}
	bullets = {}
end

function _update()
-- ship thrusters
	t = t + 1
	if(t % 6 < 3) then
		ship.sp=1
	else
		ship.sp=2
	end
	-- ship movement
	if btn(0) then ship.x-=1 end
	if btn(1) then ship.x+=1 end
	if btn(2) then ship.y-=1 end
	if btn(3) then ship.y+=1 end
	if btnp(4) then fire() end
--  bullet control
	for b in all(bullets) do
	 b.x+=b.dx
	 b.y+=b.dy
	 if b.x < 0 or b.x > 128 or b.y < 0 or b.y > 128 then
	 	del(bullets, b)
	 end
	end
end

function _draw()
	cls()
-- ship
	spr(ship.sp, ship.x, ship.y)
-- bullet
	for b in all(bullets) do
		spr(b.sp, b.x, b.y)
	end
	print(#bullets, 9)
end

function fire()
	-- Creates a bullet and adds it to the current bullets list
	local b = {
 sp=3,
	x=ship.x,
	y=ship.y,
	dx=0,
	dy=-3,
	}
	add(bullets, b)
end
__gfx__
000000000010010000100100000bb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000010010000100100000b3000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000001001000010010000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000011111100111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000001661000016610000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000011881100118811000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000900000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000090000009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
